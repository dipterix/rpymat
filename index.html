<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Easy to Configure an Isolated Python Environment • rpymat</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Easy to Configure an Isolated Python Environment">
<meta name="description" content="Aims to create a single isolated Miniconda and Python environment for reproducible pipeline scripts. The package provides utilities to run system command within the conda environment, making it easy to install, launch, manage, and stop Jupyter-lab.">
<meta property="og:description" content="Aims to create a single isolated Miniconda and Python environment for reproducible pipeline scripts. The package provides utilities to run system command within the conda environment, making it easy to install, launch, manage, and stop Jupyter-lab.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">rpymat</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.7.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dipterix/rpymat/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="isolated-miniconda-python-and-matlab-experimental-environment">Isolated <code>Miniconda</code>, <code>Python</code>, and <code>Matlab</code> (experimental) Environment<a class="anchor" aria-label="anchor" href="#isolated-miniconda-python-and-matlab-experimental-environment"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of <code>rpymat</code> is to create a single isolated <code>Miniconda</code> and <code>Python</code> environment for reproducible pipeline scripts. The package is a shell of <code>reticulate</code> package, but provides more stable behaviors, especially on ‘ARM’ machines.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the released version of rpymat from <a href="https://CRAN.R-project.org" class="external-link">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rpymat"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="configure-environment">Configure environment<a class="anchor" aria-label="anchor" href="#configure-environment"></a>
</h2>
<p>Configure python after installation</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># change `python_ver` accordingly</span></span>
<span><span class="fu">rpymat</span><span class="fu">::</span><span class="fu"><a href="reference/conda-env.html">configure_conda</a></span><span class="op">(</span>python_ver <span class="op">=</span> <span class="st">'auto'</span><span class="op">)</span></span></code></pre></div>
<p>Add <code>Python</code> or <code>conda</code> packages</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add conda packages</span></span>
<span><span class="fu">rpymat</span><span class="fu">::</span><span class="fu"><a href="reference/conda-env.html">add_packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'pandas'</span>, <span class="st">'numpy'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add conda packages from channels</span></span>
<span><span class="fu">rpymat</span><span class="fu">::</span><span class="fu"><a href="reference/conda-env.html">add_packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'h5py'</span><span class="op">)</span>, channel <span class="op">=</span> <span class="st">"conda-forge"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add pip packages</span></span>
<span><span class="fu">rpymat</span><span class="fu">::</span><span class="fu"><a href="reference/conda-env.html">add_packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'sklearn'</span><span class="op">)</span>, pip <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="use-jupyterlab">Use <code>Jupyterlab</code>
<a class="anchor" aria-label="anchor" href="#use-jupyterlab"></a>
</h2>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install Jupyterlab, will install</span></span>
<span><span class="co"># numpy, h5py, matplotlib, pandas, </span></span>
<span><span class="co"># jupyter, jupyterlab, jupyterlab-git, ipywidgets, jupyter-server-proxy</span></span>
<span><span class="co"># jupyterlab_latex, jupyterlab_github, matlab_kernel</span></span>
<span><span class="fu">rpymat</span><span class="fu">::</span><span class="fu"><a href="reference/jupyter.html">add_jupyter</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Launch Jupyterlab</span></span>
<span><span class="fu">rpymat</span><span class="fu">::</span><span class="fu"><a href="reference/jupyter.html">jupyter_launch</a></span><span class="op">(</span>async <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="advanced-configurations">Advanced configurations:<a class="anchor" aria-label="anchor" href="#advanced-configurations"></a>
</h4>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rpymat</span><span class="fu">::</span><span class="fu"><a href="reference/jupyter.html">jupyter_launch</a></span><span class="op">(</span></span>
<span>    async <span class="op">=</span> <span class="cn">TRUE</span>, workdir <span class="op">=</span> <span class="st">"~"</span>,</span>
<span>    port <span class="op">=</span> <span class="fl">18888</span>, open_browser <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    token <span class="op">=</span> <span class="st">"IwontTellYouMyToken"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>To query existing servers</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rpymat</span><span class="fu">::</span><span class="fu"><a href="reference/jupyter.html">jupyter_server_list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;        host  port                                              token</span></span>
<span><span class="co">#&gt; 1 127.0.0.1  8888 3hzWfGPa0EOmonaNS48jrTvpw07KiX7VKerA9ZTFJMkCOJMgfB</span></span>
<span><span class="co">#&gt; 2 127.0.0.1 18888                                IwontTellYouMyToken</span></span></code></pre></div>
<p>To stop a server</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rpymat</span><span class="fu">::</span><span class="fu"><a href="reference/jupyter.html">jupyter_server_stop</a></span><span class="op">(</span>port <span class="op">=</span> <span class="fl">18888</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="use-rpymat-with-reticulate">Use <code>rpymat</code> with <code>reticulate</code>
<a class="anchor" aria-label="anchor" href="#use-rpymat-with-reticulate"></a>
</h2>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Initialize the isolated environment</span></span>
<span></span>
<span><span class="fu">rpymat</span><span class="fu">::</span><span class="fu"><a href="reference/conda-env.html">ensure_rpymat</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">rpymat</span><span class="fu">::</span><span class="fu"><a href="reference/repl_python.html">repl_python</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Then run python code interactively.</p>
<p>Alternatively, you can use <code>rpymat::run_script(path)</code> to execute <code>Python</code> scripts, and use <code><a href="https://rstudio.github.io/reticulate/reference/py.html" class="external-link">reticulate::py</a></code> to obtain the results.</p>
</div>
<div class="section level2">
<h2 id="section"></h2>
</div>
<div class="section level2">
<h2 id="uninstall">Uninstall<a class="anchor" aria-label="anchor" href="#uninstall"></a>
</h2>
<p>The following command will erase the environment completely.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rpymat</span><span class="fu">::</span><span class="fu"><a href="reference/conda-env.html">remove_conda</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=rpymat" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/dipterix/rpymat/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/dipterix/rpymat/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>Apache License (&gt;= 2)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rpymat</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Zhengjia Wang <br><small class="roles"> Copyright holder, author, maintainer </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/dipterix/rpymat/actions" class="external-link"><img src="https://github.com/dipterix/rpymat/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zhengjia Wang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
